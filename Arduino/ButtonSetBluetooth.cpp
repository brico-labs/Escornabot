// ButtonSetBluetooth.cpp

#include "ButtonSetBluetooth.h"

//////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////

ButtonSetBluetooth::ButtonSetBluetooth(const Config* cfg)
{
	_config = cfg;
}

//////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////

void ButtonSetBluetooth::init()
{
	_config->serial->flush();
}

//////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////

ButtonSet::BUTTON ButtonSetBluetooth::scanButtons()
{
	if (_config->serial->available())
	{
		char key = _config->serial->read();

		for (int c = 1; c <= 6; c++)
		{
			if (KEY_MAPPING[c] == key)
			{
				return (ButtonSet::BUTTON)c;
			}
		}
	}

	return BUTTON_NONE;
}

//////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////


// EOF
